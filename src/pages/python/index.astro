---
// src/pages/python/index.astro
import Layout from "@layouts/Layout.astro";
import Container from "@components/Container.astro";
import ArrowCard from "@components/ArrowCard.astro";
import Link from "@components/Link.astro";
import { getCollection } from "astro:content";

// å…¨ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’å–å¾—ã—ã€ãƒ‰ãƒ©ãƒ•ãƒˆã‚’é™¤ã„ã¦æ—¥ä»˜é™é †
const allPosts = (await getCollection("blog"))
  .filter(post => !post.data.draft)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());

// Sympy æ¼”ç¿’å•é¡Œï¼šslug ãŒ python/sympy/ ã§å§‹ã¾ã‚‹è¨˜äº‹
const sympyPosts = allPosts.filter(post =>
  post.slug.startsWith("python/sympy/")
);

// ãã®ä»–ã® Python è¨˜äº‹ï¼šã‚¿ã‚°ã« Python ã‚’å«ã¿ã€sympyPosts ã«å«ã¾ã‚Œãªã„è¨˜äº‹
const otherPythonPosts = allPosts.filter(post =>
  post.data.tags?.includes("Python") &&
  !post.slug.startsWith("python/sympy/")
);
---

<Layout title="ğŸ Python è¨˜äº‹ä¸€è¦§" description="Python é–¢é€£ã®è¨˜äº‹ã‚’ã¾ã¨ã‚ãŸãƒšãƒ¼ã‚¸">
  <Container>
    <h1 class="font-bold text-2xl">ğŸ Python è¨˜äº‹ä¸€è¦§</h1>

    <!-- Sympy æ¼”ç¿’å•é¡Œã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="mt-8">
      <div class="flex items-center justify-between">
        <h2 class="font-semibold text-xl">ğŸ”¢ Sympy æ¼”ç¿’å•é¡Œ</h2>
        <Link href="/python/sympy/">â–¶ ã™ã¹ã¦è¦‹ã‚‹</Link>
      </div>
      <ul class="not-prose flex flex-col gap-4 mt-4">
        {sympyPosts.map(post => (
          <li><ArrowCard entry={post} /></li>
        ))}
      </ul>
    </section>

    <!-- ãã®ä»–ã® Python è¨˜äº‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="mt-12">
      <div class="flex items-center justify-between">
        <h2 class="font-semibold text-xl">ğŸ“ ãã®ä»–ã® Python è¨˜äº‹</h2>
      </div>
      <ul class="not-prose flex flex-col gap-4 mt-4">
        {otherPythonPosts.map(post => (
          <li><ArrowCard entry={post} /></li>
        ))}
      </ul>
    </section>
  </Container>
</Layout>
